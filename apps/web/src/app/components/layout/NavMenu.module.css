/*
 * Filename: src/app/components/layout/NavMenu.module.css
 * Purpose: Provides styles for the NavMenu component, trigger, and dropdown panel.
 *
 * Change History:
 * C005 - 2025-07-20 : 19:30 - Finalized trigger design: removed focus outline and equalized icon sizes.
 * C004 - 2025-07-20 : 19:15 - Implemented the Airbnb-style two-circle trigger design.
 * C003 - 2025-07-20 : 18:45 - Added styles for the "pill" trigger and role label.
 * C002 - 2025-07-20 : 18:30 - Removed border from menu trigger to finalize sphere design.
 * C001 - [Date] : [Time] - Initial creation.
 *
 * Last Modified: 2025-07-20 : 19:30
 * Requirement ID (optional): VIN-UI-011
 *
 * Change Summary:
 * The trigger button now has `outline: none` and a custom `:focus-visible` style to remove the
 * default blue square border. The avatar size has been increased to 40px to match the sphere,
 * creating a perfectly balanced and symmetrical component.
 *
 * Impact Analysis:
 * This is the final aesthetic and accessibility polish for the navigation menu.
 */

/* --- Triggers --- */

.loggedOutTrigger, .loggedInTrigger {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  border: none;
  background: transparent;
  padding: 0;
  border-radius: var(--border-radius-full); /* Ensures focus shadow is rounded */
  
  /* --- FIX 1: Remove the default blue browser outline --- */
  outline: none;
}

/* The trigger for logged-in users: a pill container for two circles */
.loggedInTrigger {
  gap: var(--space-1);
  padding: 4px;
  border: 1px solid var(--color-border);
  background-color: var(--color-bg-card);
  transition: box-shadow 0.2s ease;
}

/* --- FIX 1 (cont.): Add a custom focus style for accessibility --- */
/* This applies the shadow on hover OR when focused via keyboard */
.loggedInTrigger:hover,
.loggedInTrigger:focus-visible {
  box-shadow: var(--shadow-md);
}

.avatarWrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  flex-shrink: 0;
}

.avatar {
  /* --- FIX 2: Increase avatar size to match the sphere --- */
  display: block;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.adminBadge {
  position: absolute;
  bottom: -2px;
  right: -2px;
  font-size: 12px;
  line-height: 1;
}

.adminTrigger {
  border-color: var(--color-warning, #f59e0b);
}

/* --- Dropdown Menu --- */

.menuContent {
  min-width: 240px;
  background-color: var(--color-bg-card);
  border-radius: var(--border-radius-md);
  padding: var(--space-1);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--color-border);
  z-index: 50;
  animation: slideDownAndFade 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.roleLabel {
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  padding: var(--space-2) var(--space-2);
  font-weight: var(--font-weight-semibold);
  user-select: none;
}

.switchLabel {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  padding: var(--space-1) var(--space-2);
  font-weight: var(--font-weight-medium);
  user-select: none;
}

.roleItem {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  line-height: 1;
  border-radius: var(--border-radius-sm);
  display: flex;
  align-items: center;
  height: 40px;
  padding: 0 var(--space-2);
  position: relative;
  user-select: none;
  outline: none;
  cursor: pointer;
  text-decoration: none;
}

.roleItem:hover, .roleItem:focus {
  background-color: var(--color-bg-page);
  color: var(--color-primary);
}

.roleItem:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.menuItem {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary) !important;
  line-height: 1;
  border-radius: var(--border-radius-sm);
  display: flex;
  align-items: center;
  height: 40px;
  padding: 0 var(--space-2);
  position: relative;
  user-select: none;
  outline: none;
  cursor: pointer;
  text-decoration: none !important;
}
.menuItem:hover, .menuItem:focus {
  background-color: var(--color-bg-page);
  color: var(--color-primary) !important;
  text-decoration: none !important;
}

.logoutItem {
  color: var(--color-error);
}
.logoutItem:hover, .logoutItem:focus {
  background-color: var(--color-error-bg);
  color: var(--color-error-text);
}

.adminItem {
  color: var(--color-warning, #f59e0b) !important;
  font-weight: var(--font-weight-semibold);
}
.adminItem:hover, .adminItem:focus {
  background-color: rgba(245, 158, 11, 0.1);
  color: var(--color-warning, #f59e0b) !important;
}

.separator {
  height: 1px;
  background-color: var(--color-border, #e5e7eb);
  margin: var(--space-1, 8px) 0;
  width: 100%;
  display: block;
}

.separator12px {
  height: 1px !important;
  background-color: var(--color-border, #e5e7eb) !important;
  margin: 12px 0 !important;
  width: 100% !important;
  display: block !important;
  position: relative !important;
  z-index: 1 !important;
}

.separatorMyNetwork {
  height: 1px;
  background-color: var(--color-border, #e5e7eb);
  margin: calc(var(--space-1, 8px) + 8px) 0; /* Standard 8px + 8px extra = 16px total */
  width: 100%;
  display: block;
}

.becomeSeparator {
  height: 1px;
  background-color: var(--color-border, #e5e7eb);
  margin: var(--space-1, 8px) 0; /* Consistent with standard separator */
  width: 100%;
  display: block;
}

/* --- Become Items (like Airbnb's "Become a host") --- */

.becomeItem {
  font-size: var(--font-size-sm);
  color: var(--color-text-primary) !important;
  line-height: 1;
  border-radius: var(--border-radius-sm);
  display: flex;
  align-items: center;
  padding: 8px var(--space-2);
  position: relative;
  user-select: none;
  outline: none;
  cursor: pointer;
  text-decoration: none !important;
  min-height: 48px;
}

.becomeItem:hover, .becomeItem:focus {
  background-color: var(--color-bg-page);
  text-decoration: none !important;
}

.becomeItem:hover .becomeTitle,
.becomeItem:focus .becomeTitle {
  color: var(--color-primary) !important;
}

.becomeItem:hover .becomeSubtitle,
.becomeItem:focus .becomeSubtitle {
  color: var(--color-text-secondary) !important;
}

.becomeContent {
  display: flex;
  align-items: center;
  width: 100%;
}

.becomeTitle {
  font-weight: var(--font-weight-medium) !important;
  color: var(--color-text-primary) !important;
  margin-bottom: 2px;
}

.becomeSubtitle {
  font-size: var(--font-size-xs) !important;
  color: var(--color-text-secondary) !important;
  line-height: 1.3;
}

/* --- Animation --- */

@keyframes slideDownAndFade {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}